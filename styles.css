/* ---------- Base & Theme (Soft Green) ---------- */
:root{
  /* Core soft-green palette */
  --green-1: #b7f0d0;   /* mint mist */
  --green-2: #8ee3b9;   /* pastel jade */
  --green-3: #5fd7a3;   /* soft emerald */
  --green-4: #3ccf8e;   /* main accent */
  --green-5: #29b77d;   /* deeper accent */

  /* Surfaces & text (dark-default; light overrides below) */
  --bg: #061a12;                 /* deep green-black */
  --card: rgba(180, 255, 220, .06);
  --text: #eaf6ef;
  --muted: #b9d7c6;
  --border: rgba(180, 255, 220, .18);

  --radius: 14px;
  --shadow-soft: 0 10px 28px rgba(6, 26, 18, .35);
  --shadow-btn: 0 8px 20px rgba(60, 207, 142, .35);
}

@media (prefers-color-scheme: light) {
  :root{
    --bg: #f4fbf7;                /* very light mint */
    --card: rgba(92, 214, 163, .08);
    --text: #0c2017;
    --muted: #4f6c60;
    --border: rgba(92, 214, 163, .25);
    --shadow-soft: 0 10px 24px rgba(12, 32, 23, .10);
    --shadow-btn: 0 8px 20px rgba(60, 207, 142, .25);
  }
}

*{ box-sizing: border-box }
html,body{
  margin:0; width:380px; height:600px;
  font:14px/1.45 ui-sans-serif, system-ui, Segoe UI, Roboto, Inter, Arial;
  color:var(--text);
  /* Soft green layered background */
  background:
    radial-gradient(1000px 600px at -10% -20%, rgba(183, 240, 208, .22), transparent 45%),
    radial-gradient(900px 600px at 110% 10%,  rgba(94, 215, 163, .18), transparent 50%),
    radial-gradient(800px 500px at 50% 120%, rgba(41, 183, 125, .22), transparent 55%),
    var(--bg);
}

/* ---------- Top Bar ---------- */
.bar{
  position: sticky; top:0; z-index:2;
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 12px;
  backdrop-filter: blur(10px);
  background:
    linear-gradient(90deg, rgba(62, 208, 142, .18), rgba(142, 227, 185, .18));
  border-bottom: 1px solid var(--border);
  box-shadow: var(--shadow-soft);
}
.brand{ display:flex; gap:10px; align-items:center; }
.logo{ font-size:18px }
.titles .title{ font-weight:700; font-size:14px }
.meta{ font-size:12px; color:var(--muted) }

/* ---------- Buttons (sleek, green, shadows) ---------- */
.actions{ display:flex; gap:8px }
.btn{
  appearance:none;
  border:1px solid var(--border);
  background:linear-gradient(180deg, rgba(183, 240, 208, .18), rgba(94, 215, 163, .10));
  color:var(--text);
  padding:8px 12px;
  border-radius:10px;
  cursor:pointer;
  box-shadow: var(--shadow-soft);
  transition: transform .14s ease, box-shadow .14s ease, opacity .14s ease, filter .14s ease;
}
.btn:hover:not(:disabled){
  transform: translateY(-1px);
  box-shadow: 0 12px 28px rgba(41, 183, 125, .25);
  filter: saturate(1.05);
}
.btn:active:not(:disabled){
  transform: translateY(0);
  box-shadow: 0 6px 14px rgba(41, 183, 125, .25);
}
.btn:disabled{ opacity:.6; cursor:default }

.btn.ghost{
  background: transparent;
  border: 1px solid rgba(60, 207, 142, .35);
}

.btn.primary{
  border: none;
  background: linear-gradient(135deg, var(--green-4), var(--green-2));
  color:#053321;
  font-weight:600;
  box-shadow: var(--shadow-btn);
}
.btn.primary:hover:not(:disabled){
  box-shadow: 0 14px 34px rgba(60, 207, 142, .45);
}
.btn.primary:active:not(:disabled){
  box-shadow: 0 8px 20px rgba(60, 207, 142, .35);
}

/* ---------- Chat Area ---------- */
.chat{
  height: calc(600px - 56px - 92px);
  overflow-y:auto;
  padding:14px;
  display:flex; flex-direction:column; gap:12px;
}
.hint-card{
  border:1px dashed var(--border);
  border-radius:var(--radius);
  padding:12px;
  background: linear-gradient(180deg, rgba(183,240,208,.10), rgba(94,215,163,.08));
  box-shadow: var(--shadow-soft);
}
.hint-title{ font-weight:600; margin-bottom:4px }
.hint-sub{ color:var(--muted) }

/* ---------- Messages & Bubbles ---------- */
.msg{ display:flex; gap:10px; align-items:flex-start }
.msg .avatar{
  width:28px; height:28px; display:grid; place-items:center;
  border-radius:50%;
  background: linear-gradient(180deg, rgba(183,240,208,.20), rgba(94,215,163,.12));
  border:1px solid rgba(94,215,163,.35);
  box-shadow: 0 4px 12px rgba(41,183,125,.18);
}
.msg .bubble{
  max-width:82%;
  padding:10px 12px;
  border-radius:14px;
  border:1px solid var(--border);
  background: linear-gradient(180deg, rgba(183,240,208,.08), rgba(94,215,163,.06));
  box-shadow: var(--shadow-soft);
  white-space:pre-wrap; word-wrap:break-word;
}
.msg.user{ justify-content:flex-end }
.msg.user .avatar{ order:2 }
.msg.user .bubble{
  order:1;
  border-color: rgba(60,207,142,.35);
  background: linear-gradient(135deg, rgba(183,240,208,.22), rgba(94,215,163,.16));
}
.msg.assistant .bubble{
  background: linear-gradient(180deg, rgba(183,240,208,.10), rgba(94,215,163,.08));
}

/* ---------- Composer ---------- */
.composer{
  position: sticky; bottom:0; z-index:2;
  display:flex; gap:10px; padding:10px;
  border-top:1px solid var(--border);
  backdrop-filter: blur(10px);
  background: linear-gradient(0deg, rgba(41,183,125,.14), rgba(183,240,208,.10));
  box-shadow: var(--shadow-soft);
}
#input{
  flex:1; min-height:42px; max-height:120px; resize:none;
  padding:10px 12px;
  border:1px solid var(--border);
  border-radius:12px;
  background: linear-gradient(180deg, rgba(183,240,208,.10), rgba(94,215,163,.06));
  color:var(--text);
  box-shadow: inset 0 2px 8px rgba(6,26,18,.18);
}

/* ---------- Utility ---------- */
kbd{
  background:linear-gradient(180deg, rgba(183,240,208,.18), rgba(94,215,163,.10));
  border:1px solid var(--border);
  border-radius:6px;
  padding:1px 5px;
  font-size:12px;
  color:var(--text);
}
.small{ font-size:12px; color:var(--muted) }
.fade-in{ animation: fade .18s ease-out }
@keyframes fade{ from{opacity:0; transform:translateY(2px)} to{opacity:1; transform:none} }
